{% extends "user/base.html" %}


{% block cartegory %}
<section id="slider">
    <div class="aspect-ratio-169">
        <img src="/static/IMG/slider1.png" alt="image" title="image slider1">
        <img src="/static/IMG/slider2.png" alt="image" title="image slider2">
        <img src="/static/IMG/slider3.png" alt="image" title="image slider3">
    </div>
    <div class="dot-container">
        <div class="dot active"></div>
        <div class="dot active"></div>
        <div class="dot active"></div>
    </div>
</section>
<script>
    const header = document.querySelector("header")
    window.addEventListener("scroll", function () {
        x = window.pageYOffset
        if (x > 0) {
            header.classList.add("sticky")
        } else {
            header.classList.remove("sticky")
        }
    })

    const imgPosition = document.querySelectorAll(".aspect-ratio-169 img")
    const imgContainer = document.querySelector('.aspect-ratio-169')
    const dotItem = document.querySelectorAll(".dot")
    let imgNuber = imgPosition.length
    let index = 0
    // console.log(imgPosition)
    imgPosition.forEach(function (image, index) {
        image.style.left = index * 100 + "%"
        dotItem[index].addEventListener("click", function () {
            slider(index)
        })
    })
    function imgSlider() {
        index++;
        console.log(index)
        if (index >= imgNuber) { index = 0 }
        slider(index)
    }
    function slider(index) {
        imgContainer.style.left = "-" + index * 100 + "%"
        const dotActive = document.querySelectorAll(".active")
        dotActive.classList.remove("active")
        dotItem[index].classList.add("active")
    }

    setInterval(imgslider, 5000)
</script>
{% endblock  %}
